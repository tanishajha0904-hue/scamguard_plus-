# ScamGuard+ Android - Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ANDROID SYSTEM                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   WhatsApp   â”‚  â”‚     SMS      â”‚  â”‚   Telegram   â”‚         â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                 â”‚                 â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                           â”‚                                    â”‚
â”‚                           â–¼                                    â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚  Notification System   â”‚                        â”‚
â”‚              â”‚  (Android OS)          â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                           â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Notification Posted Event
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SCAMGUARD+ APP                             â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       NotificationListenerService.java                   â”‚  â”‚
â”‚  â”‚       (Core Monitoring Engine)                           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  onNotificationPosted(StatusBarNotification sbn) {      â”‚  â”‚
â”‚  â”‚      1. Extract package name                            â”‚  â”‚
â”‚  â”‚      2. Check if messaging app                          â”‚  â”‚
â”‚  â”‚      3. Extract title & text                            â”‚  â”‚
â”‚  â”‚      4. Analyze content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  }                                    â”‚                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚                     â”‚
â”‚                                          â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           SCAM DETECTION ENGINE                          â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  analyzeNotification(text) {                            â”‚  â”‚
â”‚  â”‚      scamScore = 0;                                     â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      // Check APK files                                 â”‚  â”‚
â”‚  â”‚      if (text.contains(".apk"))                         â”‚  â”‚
â”‚  â”‚          scamScore += 50;  â—„â”€â”€â”€â”€ HIGHEST PRIORITY       â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      // Check scam keywords                             â”‚  â”‚
â”‚  â”‚      for (keyword in SCAM_KEYWORDS)                     â”‚  â”‚
â”‚  â”‚          if (text.contains(keyword))                    â”‚  â”‚
â”‚  â”‚              scamScore += 10;                           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      // Check suspicious links                          â”‚  â”‚
â”‚  â”‚      for (link in LINK_PATTERNS)                        â”‚  â”‚
â”‚  â”‚          if (text.contains(link))                       â”‚  â”‚
â”‚  â”‚              scamScore += 15;                           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      // Check phone numbers                             â”‚  â”‚
â”‚  â”‚      if (hasPhoneNumber(text))                          â”‚  â”‚
â”‚  â”‚          scamScore += 5;                                â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      // Check urgency                                   â”‚  â”‚
â”‚  â”‚      if (hasUrgency(text))                              â”‚  â”‚
â”‚  â”‚          scamScore += 10;                               â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      return scamScore;                                  â”‚  â”‚
â”‚  â”‚  }                                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â”‚                             â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           RISK ASSESSMENT                                â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  if (scamScore >= 50) {                                 â”‚  â”‚
â”‚  â”‚      riskLevel = "CRITICAL";                            â”‚  â”‚
â”‚  â”‚      showScamAlert(CRITICAL);  â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚
â”‚  â”‚  }                                   â”‚                  â”‚  â”‚
â”‚  â”‚  else if (scamScore >= 30) {         â”‚                  â”‚  â”‚
â”‚  â”‚      riskLevel = "HIGH";             â”‚                  â”‚  â”‚
â”‚  â”‚      showScamAlert(HIGH);  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚  â”‚
â”‚  â”‚  }                                   â”‚                  â”‚  â”‚
â”‚  â”‚  else {                              â”‚                  â”‚  â”‚
â”‚  â”‚      // Safe, no alert               â”‚                  â”‚  â”‚
â”‚  â”‚  }                                   â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚                     â”‚
â”‚                                         â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           ALERT SYSTEM                                   â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  showScamAlert(riskLevel) {                             â”‚  â”‚
â”‚  â”‚      // Create notification                             â”‚  â”‚
â”‚  â”‚      NotificationCompat.Builder()                       â”‚  â”‚
â”‚  â”‚          .setTitle("ğŸš¨ SCAM DETECTED")                  â”‚  â”‚
â”‚  â”‚          .setText("Risk: " + riskLevel)                 â”‚  â”‚
â”‚  â”‚          .setPriority(MAX)                              â”‚  â”‚
â”‚  â”‚          .setSound(ALARM)                               â”‚  â”‚
â”‚  â”‚          .setVibrate(pattern)                           â”‚  â”‚
â”‚  â”‚          .setColor(RED)                                 â”‚  â”‚
â”‚  â”‚          .setOngoing(true);  // Persistent              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚      notificationManager.notify(alert);                 â”‚  â”‚
â”‚  â”‚  }                                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER'S PHONE SCREEN                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸš¨ SCAM DETECTED - CRITICAL RISK                         â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  Score: 85% | Source: WhatsApp                           â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  âš ï¸ SCAM ALERT âš ï¸                                        â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  Risk Level: CRITICAL                                    â”‚ â”‚
â”‚  â”‚  Scam Score: 85%                                         â”‚ â”‚
â”‚  â”‚  Source: WhatsApp                                        â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  Message: Congratulations! You won $1000!               â”‚ â”‚
â”‚  â”‚  Download: prize.apk                                     â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  Reasons:                                                â”‚ â”‚
â”‚  â”‚  â€¢ APK file detected!                                    â”‚ â”‚
â”‚  â”‚  â€¢ Keyword: congratulations                              â”‚ â”‚
â”‚  â”‚  â€¢ Keyword: won                                          â”‚ â”‚
â”‚  â”‚  â€¢ Suspicious link detected                              â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â›” DO NOT CLICK ANY LINKS                               â”‚ â”‚
â”‚  â”‚  â›” DO NOT DOWNLOAD ANY FILES                            â”‚ â”‚
â”‚  â”‚  â›” DO NOT SHARE PERSONAL INFO                           â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  [ALARM SOUND PLAYING] ğŸ”Š                                      â”‚
â”‚  [PHONE VIBRATING] ğŸ“³                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BACKGROUND SERVICES (Always Running)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ScamMonitorService.java                                        â”‚
â”‚  â€¢ Runs as foreground service                                   â”‚
â”‚  â€¢ Keeps app alive 24/7                                         â”‚
â”‚  â€¢ Shows persistent "ScamGuard+ Active" notification            â”‚
â”‚  â€¢ Restarts if killed by system                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BootReceiver.java                                              â”‚
â”‚  â€¢ Listens for BOOT_COMPLETED event                            â”‚
â”‚  â€¢ Auto-starts ScamMonitorService on phone boot                â”‚
â”‚  â€¢ Ensures protection starts automatically                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

USER INTERFACE

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MainActivity.java                                              â”‚
â”‚  â€¢ Shows protection status (Active/Inactive)                    â”‚
â”‚  â€¢ "Enable Protection" button                                   â”‚
â”‚  â€¢ Opens notification access settings                           â”‚
â”‚  â€¢ Displays scam count                                          â”‚
â”‚  â€¢ Shows scam details when alert is tapped                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DATA FLOW EXAMPLE

1. WhatsApp receives message:
   "Congratulations! Download prize.apk"
   
2. Android OS creates notification
   
3. NotificationListenerService intercepts it
   
4. Extracts text: "Congratulations! Download prize.apk"
   
5. Scam Detection:
   - APK found: +50 points
   - "Congratulations": +10 points
   - Total: 60 points
   
6. Risk Assessment:
   - Score >= 50 â†’ CRITICAL
   
7. Alert System:
   - Create critical notification
   - Play alarm sound
   - Vibrate phone
   - Show persistent alert
   
8. User sees alert and stays safe! âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Key Components Summary

| Component | Purpose | Always Running? |
|-----------|---------|-----------------|
| **NotificationListenerService** | Monitors all notifications | âœ… Yes |
| **ScamMonitorService** | Keeps app alive in background | âœ… Yes |
| **BootReceiver** | Auto-starts on phone boot | Only on boot |
| **MainActivity** | User interface | Only when opened |

## Permissions Required

| Permission | Why Needed |
|------------|------------|
| **BIND_NOTIFICATION_LISTENER_SERVICE** | Access all notifications |
| **POST_NOTIFICATIONS** | Show scam alerts |
| **VIBRATE** | Vibrate on scam detection |
| **FOREGROUND_SERVICE** | Run continuously |
| **RECEIVE_BOOT_COMPLETED** | Auto-start on boot |

## Detection Thresholds

| Score Range | Risk Level | Action |
|-------------|------------|--------|
| 0-29 | Safe | No alert |
| 30-49 | HIGH | Show alert |
| 50+ | CRITICAL | Persistent alert + alarm |

---

**This architecture ensures 24/7 protection with minimal battery usage!** ğŸ›¡ï¸
